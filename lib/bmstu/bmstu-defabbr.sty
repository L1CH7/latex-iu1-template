%% lib/bmstu/bmstu-defabbr.sty
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{bmstu-defabbr}[2026/02/11 v2.0 Table Abbreviations]

\RequirePackage{longtable} % Пакет для таблиц, умеющих переноситься на другие страницы
\RequirePackage{eqparbox} % Пакет для автоматического определения ширины
\RequirePackage{calc}     % Для математических операций с размерами

% Команда для одной строки (Колонка 1 & Колонка 2 & Колонка 3 \\)
\newcommand{\definition}[2]{%
    \eqparbox{abbr_label}{#1} & -- & #2 \\%
}

% Создание страницы обозначений и сокращений
\newenvironment{abbreviations}
{
    \chapter*{СПИСОК ОБОЗНАЧЕНИЙ И СОКРАЩЕНИЙ}
    \addcontentsline{toc}{chapter}{СПИСОК ОБОЗНАЧЕНИЙ И СОКРАЩЕНИЙ}
    
    % Убираем абзацный отступ перед таблицей
    \noindent
    % 1. Находим ширину левого столбца через \eqboxwidth
    % 2. Добавляем 0.33em (ваш зазор до тире)
    % 3. Высчитываем остаток для правой колонки: 
    %    textwidth - ширина_метки - зазор(0.33em) - ширина_тире(1em) - отступ(1em)
    \begin{longtable}{@{} l @{\hspace{0.33em}} c @{\hspace{1em}} p{\dimexpr\textwidth-\eqboxwidth{abbr_label}-2.5em\relax} @{}}
}
{
    \end{longtable}
}